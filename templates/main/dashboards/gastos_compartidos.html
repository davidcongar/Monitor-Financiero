{% extends './partials/layout1.html' %}
{% include 'partials/flash_alerts.html' %}
{% block content %}
{% include 'partials/alerts.html' %}
<div class="mt-3 font-normal">
    <div id="main" class="flex flex-col gap-5 min-h-[calc(100vh-188px)] sm:min-h-[calc(100vh-204px)]">
        <form action="/shared_expenses" method="POST">
            <div class="flex items-center gap-5">
                <select name="month" id="month" class="form-select">
                    <option value=1>Enero</option>
                    <option value=2>Febrero</option>
                    <option value=3>Marzo</option>
                    <option value=4>Abril</option>
                    <option value=5>Mayo</option>
                    <option value=6>Junio</option>
                    <option value=7>Julio</option>
                    <option value=8>Agosto</option>
                    <option value=9>Septiembre</option>
                    <option value=10>Octubre</option>
                    <option value=11>Noviembre</option>
                    <option value=12>Diciembre</option>
                </select>
                <select name="year" id="year" class="form-select">
                    <option value=2021>2021</option>
                    <option value=2022>2022</option>
                    <option value=2023>2023</option>
                    <option value=2024>2024</option>
                    <option value=2025>2025</option>
                    <option value=2026>2026</option>
                    <option value=2027>2027</option>
                </select>
                <button  type="submit" class="border w-20 h-10 flex items-center justify-center text-primary border-transparent rounded-md transition-all duration-300 hover:text-white hover:bg-primary bg-primary/10">
                    <svg width="20" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <g clip-path="url(#clip0_87_857)">
                            <circle cx="8.625" cy="8.625" r="7.125" stroke="currentColor" stroke-width="2"></circle>
                            <path opacity="0.3" d="M15 15L16.5 16.5" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                        </g>
                        <defs>
                            <clipPath id="clip0_87_857">
                                <rect width="18" height="18" fill="white"></rect>
                            </clipPath>
                        </defs>
                    </svg>
                </button>
            </div>
        </form>
        <div x-data="{ activeDefTab: '{{ activeDefTab }}' }">
            <ul class="flex flex-wrap text-sm text-center dark:border-gray/20 border-b border-lightgray/10">
                <li class="mr-2">
                    <a href="javaScript:;" @click="activeDefTab = 'tablero'" :class="activeDefTab === 'tablero' ? 'bg-primary/10 text-primary' : 'bg-transparent text-gray hover:bg-primary/10 hover:text-primary'" class="inline-block px-5 py-3 rounded-t-lg">
                        Tablero
                    </a>
                </li>
                <li class="mr-2">
                    <a href="javaScript:;" @click="activeDefTab = 'resumen_deuda'" :class="activeDefTab === 'resumen_deuda' ? 'bg-primary/10 text-primary' : 'bg-transparent text-gray hover:bg-primary/10 hover:text-primary'" class="inline-block px-5 py-3 rounded-t-lg">
                        Resument Deuda
                    </a>
                </li>
                <li class="mr-2">
                    <a href="javaScript:;" @click="activeDefTab = 'usuario'"  :class="activeDefTab === 'usuario' ? 'bg-primary/10 text-primary' : 'bg-transparent text-gray hover:bg-primary/10 hover:text-primary'" class="inline-block px-5 py-3 rounded-t-lg">
                        {{ session['nombre'] }}
                    </a>
                </li>
                <li class="mr-2"></li>
                    <a href="javaScript:;" @click="activeDefTab = 'usuario_conectado'"  :class="activeDefTab === 'usuario_conectado' ? 'bg-primary/10 text-primary' : 'bg-transparent text-gray hover:bg-primary/10 hover:text-primary'" class="inline-block px-5 py-3 rounded-t-lg">
                        {{nombre_usuario_compartido}}
                    </a>
                </li>
            </ul>
            <div class="mt-3 font-normal">
                <div x-show="activeDefTab === 'tablero'" class="text-sm/relaxed">
                    {% include 'main/dashboards/gastos_compartidos/tablero.html' %}
                </div>
                <!--debt-->
                <div x-show="activeDefTab === 'resumen_deuda'" class="text-sm/relaxed">
                    {% include 'main/dashboards/gastos_compartidos/resumen_deuda.html' %}
                </div>
                <!--current_user-->
                <div x-show="activeDefTab === 'usuario'" class="text-sm/relaxed">
                    {% include 'main/dashboards/gastos_compartidos/gastos_usuario.html' %}
                </div>
                <!--share_user-->
                <div x-show="activeDefTab === 'usuario_conectado'" class="text-sm/relaxed">
                    {% include 'main/dashboards/gastos_compartidos/gastos_usuario_conectado.html' %}
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript">
    var current_month=new Date().getMonth();
    var current_year=new Date().getFullYear();
    document.getElementById('year').value=current_year;
    document.getElementById('month').value=current_month+1;
    const month="{{month}}"
    if(month!==''){
        document.getElementById('year').value="{{year}}";
        document.getElementById('month').value="{{month}}";
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/apexcharts@latest"></script>
<script src="/static/js/apex-ecom_copy.js"></script>
<script src="/static/js/funciones_generales.js"></script>
<script src="/static/js/charts/general.js"></script>
<script src="/static/js/charts/waterfall.js"></script>

{% endblock content %}